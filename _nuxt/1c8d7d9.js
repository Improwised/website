(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{454:function(t,e,o){t.exports=o(465)},465:function(t,e,o){"use strict";function n(t){this.getElement(t.element),this.x1=0,this.y1=0,this.name=t.name||!1,this.elToSetClassOn=t.elToSetClassOn||"body",this.direction=t.direction||"diagonal",this.customDirection=t.customDirection||{},this.validateInput("direction"),this.isPausedWhenNotInView=t.isPausedWhenNotInView||!1,this.states=t.states,this.stateTransitionSpeed=t.stateTransitionSpeed||1e3,this.previousTimeStamp=null,this.progress=0,this.isPaused=!1,this.isCleared=!1,this.isPausedBecauseNotInView=!1,this.context=this.canvas.getContext("2d"),this.channels={},this.channelsIndex=0,this.activeState=t.defaultStateName||"default-state",this.isChangingState=!1,this.currentColors=[],this.currentColorsPos=[],this.activetransitionSpeed=null,this.eventPolyfill(),this.scrollDebounceThreshold=t.scrollDebounceThreshold||300,this.scrollDebounceTimeout=null,this.isImgLoaded=!1,this.isCanvasInWindowView=!1,this.firstScrollInit=!0,this.animating=!1,this.gradientLength=this.states[this.activeState].gradients[0].length,t.image&&t.image.source&&(this.image={source:t.image.source,position:t.image.position||["center","center"],stretchMode:t.image.stretchMode||!1,blendingMode:t.image.blendingMode||!1}),this.events={start:new CustomEvent("granim:start"),end:new CustomEvent("granim:end"),gradientChange:function(details){return new CustomEvent("granim:gradientChange",{detail:{isLooping:details.isLooping,colorsFrom:details.colorsFrom,colorsTo:details.colorsTo,activeState:details.activeState},bubbles:!1,cancelable:!1})}},this.callbacks={onStart:"function"==typeof t.onStart&&t.onStart,onGradientChange:"function"==typeof t.onGradientChange&&t.onGradientChange,onEnd:"function"==typeof t.onEnd&&t.onEnd},this.getDimensions(),this.canvas.setAttribute("width",this.x1),this.canvas.setAttribute("height",this.y1),this.setColors(),this.image&&(this.validateInput("image"),this.prepareImage()),this.pauseWhenNotInViewNameSpace=this.pauseWhenNotInView.bind(this),this.setSizeAttributesNameSpace=this.setSizeAttributes.bind(this),this.onResize(),this.isPausedWhenNotInView?this.onScroll():this.image||(this.refreshColorsAndPos(),this.animation=requestAnimationFrame(this.animateColors.bind(this)),this.animating=!0),this.callbacks.onStart&&this.callbacks.onStart(),this.canvas.dispatchEvent(this.events.start)}n.prototype.animateColors=o(466),n.prototype.changeBlendingMode=o(467),n.prototype.changeDirection=o(468),n.prototype.changeState=o(469),n.prototype.clear=o(470),n.prototype.convertColorToRgba=o(471),n.prototype.destroy=o(472),n.prototype.eventPolyfill=o(473),n.prototype.getColor=o(474),n.prototype.getColorDiff=o(475),n.prototype.getColorPos=o(476),n.prototype.getColorPosDiff=o(477),n.prototype.getCurrentColors=o(478),n.prototype.getCurrentColorsPos=o(479),n.prototype.getDimensions=o(480),n.prototype.getElement=o(481),n.prototype.getLightness=o(482),n.prototype.makeGradient=o(483),n.prototype.onResize=o(484),n.prototype.onScroll=o(485),n.prototype.pause=o(486),n.prototype.pauseWhenNotInView=o(487),n.prototype.play=o(488),n.prototype.prepareImage=o(489),n.prototype.refreshColorsAndPos=o(490),n.prototype.setColors=o(491),n.prototype.setDirection=o(492),n.prototype.setSizeAttributes=o(493),n.prototype.triggerError=o(494),n.prototype.validateInput=o(495),t.exports=n},466:function(t,e,o){"use strict";t.exports=function(t){var e,o,n,r=t-this.previousTimeStamp>100,h=void 0===this.states[this.activeState].loop||this.states[this.activeState].loop;(null===this.previousTimeStamp||r)&&(this.previousTimeStamp=t),this.progress=this.progress+(t-this.previousTimeStamp),e=(this.progress/this.activetransitionSpeed*100).toFixed(2),this.previousTimeStamp=t,this.refreshColorsAndPos(e),e<100?this.animation=requestAnimationFrame(this.animateColors.bind(this)):this.channelsIndex<this.states[this.activeState].gradients.length-2||h?(this.isChangingState&&(this.activetransitionSpeed=this.states[this.activeState].transitionSpeed||5e3,this.isChangingState=!1),this.previousTimeStamp=null,this.progress=0,this.channelsIndex++,o=!1,this.channelsIndex===this.states[this.activeState].gradients.length-1?o=!0:this.channelsIndex===this.states[this.activeState].gradients.length&&(this.channelsIndex=0),n=void 0===this.states[this.activeState].gradients[this.channelsIndex+1]?this.states[this.activeState].gradients[0]:this.states[this.activeState].gradients[this.channelsIndex+1],this.setColors(),this.animation=requestAnimationFrame(this.animateColors.bind(this)),this.callbacks.onGradientChange&&this.callbacks.onGradientChange({isLooping:o,colorsFrom:this.states[this.activeState].gradients[this.channelsIndex],colorsTo:n,activeState:this.activeState}),this.canvas.dispatchEvent(this.events.gradientChange({isLooping:o,colorsFrom:this.states[this.activeState].gradients[this.channelsIndex],colorsTo:n,activeState:this.activeState}))):(cancelAnimationFrame(this.animation),this.callbacks.onEnd&&this.callbacks.onEnd(),this.canvas.dispatchEvent(new CustomEvent("granim:end")))}},467:function(t,e,o){"use strict";t.exports=function(t){this.context.clearRect(0,0,this.x1,this.y1),this.context.globalCompositeOperation=this.image.blendingMode=t,this.validateInput("blendingMode"),this.isPaused&&this.refreshColorsAndPos()}},468:function(t,e,o){"use strict";t.exports=function(t){this.context.clearRect(0,0,this.x1,this.y1),this.direction=t,this.validateInput("direction"),this.isPaused&&this.refreshColorsAndPos()}},469:function(t,e,o){"use strict";t.exports=function(t){var e=this;this.activeState!==t&&(this.isPaused||(this.isPaused=!0,this.pause()),this.channelsIndex=-1,this.activetransitionSpeed=this.stateTransitionSpeed,this.activeColorsDiff=[],this.activeColorsPosDiff=[],this.activeColors=this.getCurrentColors(),this.activeColorsPos=this.getCurrentColorsPos(),this.progress=0,this.previousTimeStamp=null,this.isChangingState=!0,this.states[t].gradients[0].forEach((function(t,i,o){var n=e.convertColorToRgba(e.getColor(t)),r=e.getColorPos(t,i),h=e.getColorDiff(e.activeColors[i],n),c=e.getColorPosDiff(e.activeColorsPos[i],r);e.activeColorsDiff.push(h),e.activeColorsPosDiff.push(c)})),this.activeState=t,this.play())}},470:function(t,e,o){"use strict";t.exports=function(){this.isPaused?this.isPaused=!1:cancelAnimationFrame(this.animation),this.isCleared=!0,this.context.clearRect(0,0,this.x1,this.y1)}},471:function(t,e,o){"use strict";var n,r={hexa:/^#(?:[0-9a-fA-F]{3}){1,2}$/,rgba:/^rgba\((\d{1,3}), ?(\d{1,3}), ?(\d{1,3}), ?(.?\d{1,3})\)$/,rgb:/^rgb\((\d{1,3}), ?(\d{1,3}), ?(\d{1,3})\)$/,hsla:/^hsla\((\d{1,3}), ?(\d{1,3})%, ?(\d{1,3})%, ?(.?\d{1,3})\)$/,hsl:/^hsl\((\d{1,3}), ?(\d{1,3})%, ?(\d{1,3})%\)$/};function h(p,q,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?p+6*(q-p)*t:t<.5?q:t<2/3?p+(q-p)*(2/3-t)*6:p}function c(t,s,e,a){var o,g,b,q,p;return 0===s?o=g=b=e:(o=h(p=2*e-(q=e<.5?e*(1+s):e+s-e*s),q,t+1/3),g=h(p,q,t),b=h(p,q,t-1/3)),[Math.round(255*o),Math.round(255*g),Math.round(255*b),a]}t.exports=function(t){switch(function(t){var e=Object.keys(r),i=0;for(;i<e.length;i++)if(n=r[e[i]].exec(t))return e[i];return!1}(t)){default:this.triggerError("colorType");case"hexa":return function(t){var e=/^#?([a-f\d])([a-f\d])([a-f\d])$/i;t=t.replace(e,(function(t,e,g,b){return e+e+g+g+b+b}));var o=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t);return o?[parseInt(o[1],16),parseInt(o[2],16),parseInt(o[3],16),1]:null}(t);case"rgba":return[parseInt(n[1],10),parseInt(n[2],10),parseInt(n[3],10),parseFloat(n[4])];case"rgb":return[parseInt(n[1],10),parseInt(n[2],10),parseInt(n[3],10),1];case"hsla":return c(parseInt(n[1],10)/360,parseInt(n[2],10)/100,parseInt(n[3],10)/100,parseFloat(n[4]));case"hsl":return c(parseInt(n[1],10)/360,parseInt(n[2],10)/100,parseInt(n[3],10)/100,1)}}},472:function(t,e,o){"use strict";t.exports=function(){this.onResize("removeListeners"),this.onScroll("removeListeners"),this.clear()}},473:function(t,e,o){"use strict";t.exports=function(){function t(t,e){e=e||{bubbles:!1,cancelable:!1,detail:void 0};var o=document.createEvent("CustomEvent");return o.initCustomEvent(t,e.bubbles,e.cancelable,e.detail),o}"function"!=typeof window.CustomEvent&&(t.prototype=window.Event.prototype,window.CustomEvent=t)}},474:function(t,e,o){"use strict";t.exports=function(t){return"string"==typeof t?t:"object"==typeof t&&t.color?t.color:void this.triggerError("gradient.color")}},475:function(t,e,o){"use strict";t.exports=function(t,e){for(var i=0,o=[];i<4;i++)o.push(e[i]-t[i]);return o}},476:function(t,e,o){"use strict";t.exports=function(t,i){return"object"==typeof t&&t.pos?t.pos:parseFloat(i?(1/(this.gradientLength-1)*i).toFixed(2):0)}},477:function(t,e,o){"use strict";t.exports=function(t,e){return e-t}},478:function(t,e,o){"use strict";t.exports=function(){var i,t,e=[];for(i=0;i<this.currentColors.length;i++)for(e.push([]),t=0;t<4;t++)e[i].push(this.currentColors[i][t]);return e}},479:function(t,e,o){"use strict";t.exports=function(){var i,t=[];for(i=0;i<this.currentColorsPos.length;i++)t.push(this.currentColorsPos[i]);return t}},480:function(t,e,o){"use strict";t.exports=function(){this.x1=this.canvas.offsetWidth,this.y1=this.canvas.offsetHeight}},481:function(t,e,o){"use strict";t.exports=function(element){if(element instanceof HTMLCanvasElement)this.canvas=element;else{if("string"!=typeof element)throw new Error("The element you used is neither a String, nor a HTMLCanvasElement");this.canvas=document.querySelector(element)}if(!this.canvas)throw new Error("`"+element+"` could not be found in the DOM")}},482:function(t,e,o){"use strict";t.exports=function(){var t,i,e=null,o=this.getCurrentColors().map((function(t){return Math.max(t[0],t[1],t[2])}));for(i=0;i<o.length;i++)e=null===e?o[i]:e+o[i],i===o.length-1&&(t=Math.round(e/(i+1)));return t>=128?"light":"dark"}},483:function(t,e,o){"use strict";t.exports=function(){var t=this.setDirection(),e=document.querySelector(this.elToSetClassOn).classList,i=0;for(this.context.clearRect(0,0,this.x1,this.y1),this.image&&this.context.drawImage(this.imageNode,this.imagePosition.x,this.imagePosition.y,this.imagePosition.width,this.imagePosition.height);i<this.currentColors.length;i++)t.addColorStop(this.currentColorsPos[i],"rgba("+this.currentColors[i][0]+", "+this.currentColors[i][1]+", "+this.currentColors[i][2]+", "+this.currentColors[i][3]+")");this.name&&("light"===this.getLightness()?(e.remove(this.name+"-dark"),e.add(this.name+"-light")):(e.remove(this.name+"-light"),e.add(this.name+"-dark"))),this.context.fillStyle=t,this.context.fillRect(0,0,this.x1,this.y1)}},484:function(t,e,o){"use strict";t.exports=function(t){"removeListeners"!==t?window.addEventListener("resize",this.setSizeAttributesNameSpace):window.removeEventListener("resize",this.setSizeAttributesNameSpace)}},485:function(t,e,o){"use strict";t.exports=function(t){"removeListeners"!==t?(window.addEventListener("scroll",this.pauseWhenNotInViewNameSpace),this.pauseWhenNotInViewNameSpace()):window.removeEventListener("scroll",this.pauseWhenNotInViewNameSpace)}},486:function(t,e,o){"use strict";t.exports=function(t){var e="isPausedBecauseNotInView"===t;this.isCleared||(e||(this.isPaused=!0),cancelAnimationFrame(this.animation),this.animating=!1)}},487:function(t,e,o){"use strict";t.exports=function(){var t=this;this.scrollDebounceTimeout&&clearTimeout(this.scrollDebounceTimeout),this.scrollDebounceTimeout=setTimeout((function(){var e=t.canvas.getBoundingClientRect();if(t.isCanvasInWindowView=!(e.bottom<0||e.right<0||e.left>window.innerWidth||e.top>window.innerHeight),t.isCanvasInWindowView){if(!t.isPaused||t.firstScrollInit){if(t.image&&!t.isImgLoaded)return;t.isPausedBecauseNotInView=!1,t.play("isPlayedBecauseInView"),t.firstScrollInit=!1}}else!t.image&&t.firstScrollInit&&(t.refreshColorsAndPos(),t.firstScrollInit=!1),t.isPaused||t.isPausedBecauseNotInView||(t.isPausedBecauseNotInView=!0,t.pause("isPausedBecauseNotInView"))}),this.scrollDebounceThreshold)}},488:function(t,e,o){"use strict";t.exports=function(t){"isPlayedBecauseInView"===t||(this.isPaused=!1),this.isCleared=!1,this.animating||(this.animation=requestAnimationFrame(this.animateColors.bind(this)),this.animating=!0)}},489:function(t,e,o){"use strict";t.exports=function(){var t=this;function e(){var i;for(i=0;i<2;i++)e(i?"y":"x");function e(e){var o,n=t[e+"1"],r=t["x"===e?"imgOriginalWidth":"imgOriginalHeight"],h="x"===e?t.image.position[0]:t.image.position[1];switch(h){case"center":o=r>n?-(r-n)/2:(n-r)/2,t.imagePosition[e]=o,t.imagePosition["x"===e?"width":"height"]=r;break;case"top":t.imagePosition.y=0,t.imagePosition.height=r;break;case"bottom":t.imagePosition.y=n-r,t.imagePosition.height=r;break;case"right":t.imagePosition.x=n-r,t.imagePosition.width=r;break;case"left":t.imagePosition.x=0,t.imagePosition.width=r}if(t.image.stretchMode)switch(h="x"===e?t.image.stretchMode[0]:t.image.stretchMode[1]){case"none":break;case"stretch":t.imagePosition[e]=0,t.imagePosition["x"===e?"width":"height"]=n;break;case"stretch-if-bigger":if(r<n)break;t.imagePosition[e]=0,t.imagePosition["x"===e?"width":"height"]=n;break;case"stretch-if-smaller":if(r>n)break;t.imagePosition[e]=0,t.imagePosition["x"===e?"width":"height"]=n}}}this.imagePosition||(this.imagePosition={x:0,y:0,width:0,height:0}),this.image.blendingMode&&(this.context.globalCompositeOperation=this.image.blendingMode),this.imageNode?e():(this.imageNode=new Image,this.imageNode.onerror=function(){throw new Error("Granim: The image source is invalid.")},this.imageNode.onload=function(){t.imgOriginalWidth=t.imageNode.width,t.imgOriginalHeight=t.imageNode.height,e(),t.refreshColorsAndPos(),t.isPausedWhenNotInView&&!t.isCanvasInWindowView||(t.animation=requestAnimationFrame(t.animateColors.bind(t))),t.isImgLoaded=!0},this.imageNode.src=this.image.source)}},490:function(t,e,o){"use strict";t.exports=function(t){var e,o,i,n,r=this;for(i=0;i<this.activeColors.length;i++){for(n=0;n<4;n++)(e=r.activeColors[i][n]+(3!==n?Math.ceil(r.activeColorsDiff[i][n]/100*t):Math.round(r.activeColorsDiff[i][n]/100*t*100)/100))<=255&&e>=0&&(r.currentColors[i][n]=e);(o=parseFloat((r.activeColorsPos[i]+r.activeColorsPosDiff[i]/100*t).toFixed(4)))<=1&&o>=0&&(r.currentColorsPos[i]=o)}this.makeGradient()}},491:function(t,e,o){"use strict";t.exports=function(){var t,e,o,n,r=this;if(this.channels[this.activeState]||(this.channels[this.activeState]=[]),void 0!==this.channels[this.activeState][this.channelsIndex])return this.activeColors=this.channels[this.activeState][this.channelsIndex].colors,this.activeColorsDiff=this.channels[this.activeState][this.channelsIndex].colorsDiff,this.activeColorsPos=this.channels[this.activeState][this.channelsIndex].colorsPos,void(this.activeColorsPosDiff=this.channels[this.activeState][this.channelsIndex].colorsPosDiff);this.channels[this.activeState].push([{}]),this.channels[this.activeState][this.channelsIndex].colors=[],this.channels[this.activeState][this.channelsIndex].colorsDiff=[],this.channels[this.activeState][this.channelsIndex].colorsPos=[],this.channels[this.activeState][this.channelsIndex].colorsPosDiff=[],this.activeColors=[],this.activeColorsDiff=[],this.activeColorsPos=[],this.activeColorsPosDiff=[],this.states[this.activeState].gradients[this.channelsIndex].forEach((function(h,i){var c=r.getColorPos(h,i),l=(h=r.getColor(h),r.convertColorToRgba(h)),d=r.channels[r.activeState];d[r.channelsIndex].colors.push(l),r.activeColors.push(l),d[r.channelsIndex].colorsPos.push(c),r.activeColorsPos.push(c),r.isCurrentColorsSet||(r.currentColors.push(r.convertColorToRgba(h)),r.currentColorsPos.push(c)),r.channelsIndex===r.states[r.activeState].gradients.length-1?(t=r.getColorDiff(d[r.channelsIndex].colors[i],d[0].colors[i]),e=r.getColorPosDiff(d[r.channelsIndex].colorsPos[i],d[0].colorsPos[i])):(o=r.convertColorToRgba(r.getColor(r.states[r.activeState].gradients[r.channelsIndex+1][i])),n=r.getColorPos(r.states[r.activeState].gradients[r.channelsIndex+1][i],i),t=r.getColorDiff(d[r.channelsIndex].colors[i],o),e=r.getColorPosDiff(d[r.channelsIndex].colorsPos[i],n)),d[r.channelsIndex].colorsDiff.push(t),r.activeColorsDiff.push(t),d[r.channelsIndex].colorsPosDiff.push(e),r.activeColorsPosDiff.push(e)})),this.activetransitionSpeed=this.states[this.activeState].transitionSpeed||5e3,this.isCurrentColorsSet=!0}},492:function(t,e,o){"use strict";function n(t,e){return t.indexOf("%")>-1?e/100*parseInt(t.split("%")[0],10):parseInt(t.split("px")[0],10)}t.exports=function(){var t=this.context;switch(this.direction){case"diagonal":return t.createLinearGradient(0,0,this.x1,this.y1);case"left-right":return t.createLinearGradient(0,0,this.x1,0);case"top-bottom":return t.createLinearGradient(this.x1/2,0,this.x1/2,this.y1);case"radial":return t.createRadialGradient(this.x1/2,this.y1/2,this.x1/2,this.x1/2,this.y1/2,0);case"custom":return t.createLinearGradient(n(this.customDirection.x0,this.x1),n(this.customDirection.y0,this.y1),n(this.customDirection.x1,this.x1),n(this.customDirection.y1,this.y1))}}},493:function(t,e,o){"use strict";t.exports=function(){this.getDimensions(),this.canvas.setAttribute("width",this.x1),this.canvas.setAttribute("height",this.y1),this.image&&this.prepareImage(),this.refreshColorsAndPos()}},494:function(t,e,o){"use strict";t.exports=function(element){throw new Error('Granim: Input error on "'+element+'" option.\nCheck the API https://sarcadass.github.io/granim.js/api.html.')}},495:function(t,e,o){"use strict";t.exports=function(t){var e=["none","stretch","stretch-if-smaller","stretch-if-bigger"];switch(t){case"image":Array.isArray(this.image.position)&&2===this.image.position.length&&-1!==["left","center","right"].indexOf(this.image.position[0])&&-1!==["top","center","bottom"].indexOf(this.image.position[1])||this.triggerError("image.position"),this.image.stretchMode&&(Array.isArray(this.image.stretchMode)&&2===this.image.stretchMode.length&&-1!==e.indexOf(this.image.stretchMode[0])&&-1!==e.indexOf(this.image.stretchMode[1])||this.triggerError("image.stretchMode"));break;case"blendingMode":-1===["multiply","screen","normal","overlay","darken","lighten","lighter","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"].indexOf(this.image.blendingMode)&&(this.clear(),this.triggerError("blendingMode"));break;case"direction":-1===["diagonal","left-right","top-bottom","radial","custom"].indexOf(this.direction)?this.triggerError("direction"):"custom"===this.direction&&(function(t){var e,o=!0,i=0;for(;o&&i<t.length;){if("string"!=typeof(e=t[i]))o=!1;else{var n=null,r=null;-1!==e.indexOf("px")&&(r="px"),-1!==e.indexOf("%")&&(r="%"),n=e.split(r).filter((function(t){return t.length>0})),(!r||n.length>2||!n[0]||n[1]||!/^-?\d+\.?\d*$/.test(n[0]))&&(o=!1)}i++}return o}([this.customDirection.x0,this.customDirection.x1,this.customDirection.y0,this.customDirection.y1])||this.triggerError("customDirection"))}}}}]);
//# sourceMappingURL=1c8d7d9.js.map